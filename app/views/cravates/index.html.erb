<% content_for :page_class, "berthier-cravates" %>

<!-- Header / Navigation -->
<%= render "shared/navbar" %>

<main class="berthier-cravates">
  <!-- Hero Catalogue -->
  <section class="catalogue-hero">
    <div class="container">
      <h1 class="catalogue-hero__title">LE CATALOGUE ADMINISTRATIF</h1>
      <p class="catalogue-hero__subtitle">Trois cravates. Pas une de plus. On ne fait pas dans l'exc√®s.</p>
    </div>
  </section>

  <!-- Grille des cravates -->
  <section class="catalogue-grid">
    <div class="container">
      <div class="cravates__grid">
        <% @cravates.each do |cravate| %>
          <%= link_to cravate_path(cravate), class: "cravate-card" do %>
            <div class="cravate-card__badge">
              <%= cravate.material %>
            </div>
            <div class="cravate-card__img">
              <% if cravate.photos.attached? %>
                <%= image_tag cravate.photos.first, alt: cravate.name %>
              <% else %>
                <div class="cravate-img-placeholder">
                  <span class="placeholder-icon">üëî</span>
                  <span class="placeholder-ref"><%= cravate.reference %></span>
                </div>
              <% end %>
            </div>
            <div class="cravate-card__content">
              <span class="cravate-card__ref"><%= cravate.reference %></span>
              <h2 class="cravate-card__name"><%= cravate.name %></h2>
              <p class="cravate-card__color"><%= cravate.color %></p>
              <div class="cravate-card__footer">
                <span class="cravate-card__price"><%= number_to_currency(cravate.price, unit: "‚Ç¨", format: "%n %u") %></span>
                <% if cravate.available? %>
                  <span class="cravate-card__stock cravate-card__stock--available">En stock</span>
                <% else %>
                  <span class="cravate-card__stock cravate-card__stock--out">Rupture de stock</span>
                <% end %>
              </div>
            </div>
          <% end %>
        <% end %>
      </div>
    </div>
  </section>

  <!-- Bandeau d'engagement -->
  <section class="catalogue-values">
    <div class="container">
      <div class="values-banner">
        <div class="values-banner__stat">
          <span class="values-banner__number">10%</span>
          <span class="values-banner__label">de nos b√©n√©fices revers√©s</span>
        </div>
        <div class="values-banner__stat">
          <span class="values-banner__number">100%</span>
          <span class="values-banner__label">Lin bio fran√ßais</span>
        </div>
        <div class="values-banner__stat">
          <span class="values-banner__number">ESS</span>
          <span class="values-banner__label">Ateliers solidaires</span>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer__content">
        <div class="footer__brand">
          <strong>LA CRAVATE DE BERTHIER</strong>
          <p class="footer__tagline">L'√©l√©gance de la d√©construction</p>
        </div>
        <nav class="footer__nav">
          <%= link_to "CGV", "#", class: "footer__link" %>
          <%= link_to "Mentions l√©gales", "#", class: "footer__link" %>
          <%= link_to "Contact", "#", class: "footer__link" %>
        </nav>
        <p class="footer__legal">
          ¬© <%= Date.current.year %> LA CRAVATE DE BERTHIER | E.U.R.L. au capital de 100 chemises
        </p>
      </div>
    </div>
  </footer>
</main>

<script>
// Menu mobile toggle
document.querySelector('.mobile-menu-toggle')?.addEventListener('click', function() {
  document.querySelector('.main-nav__links').classList.toggle('active');
  this.classList.toggle('active');
});
</script>
